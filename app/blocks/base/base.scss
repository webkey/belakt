.base {
  $base: &;

  position: relative;
  display: flex;
  align-items: flex-start;
  padding: 3.7rem 0 0;
  min-height: 50rem;
  max-width: 100%;
  z-index: 5;

  @include below($lg) {
    display: block;
    padding: 2rem 0 3rem;
  }

  &__aside {
    $width: 14.1rem;
    $width_lg: 8rem;

    flex: 1 0 $width;
    max-width: $width;
    width: $width;
    position: relative;
    margin-right: 3.1rem;
    z-index: 15;

    &:not(.always-show) {
      @include below($lg) {
        display: none;
      }
    }

    &.always-show {
      @include below($lg) {
        float: left;
        width: $width_lg;
        margin: 0 -#{$width_lg} 0 -#{$layout-page-space_lg};
        z-index: 25;
      }

      @include below($md) {
        margin-left: -#{$layout-page-space_sm};
      }
    }
  }

  &__body {
    //$width: calc(100% - 14.1rem - 3.1rem - 7.8rem - 7rem);
    $width: calc(100% - 32rem);

    //flex: 1 0 $width;
    flex: 0 0 auto; // ie
    width: $width; // ie
    max-width: $width;
    position: relative;
    padding: 2.2rem 0 12rem;
    z-index: 20;

    @include below($lg) {
      padding: 0;
      max-width: none;
      width: auto;
    }
  }

  &__content {
    position: relative;
    padding: 0 4rem;

    @include below($lg) {
      padding: 0;
    }
  }

  &__share {
    $width: 7.8rem;

    flex: 1 0 $width;
    max-width: $width;
    position: sticky;
    top: 0;
    margin: 4.5rem 0 0 7rem;
    padding-top: 4rem;
    z-index: 15;

    @include below($lg) {
      max-width: none;
      margin: 0;
      padding: 4rem 0 0;
      position: relative;
      display: flex;
      justify-content: center;
    }
  }

  &__section {
    &_space-smallest {
      margin-bottom: 2rem;

      @include below($md) {
        margin-bottom: 1.5rem;
      }
    }

    &_space-small {
      margin-bottom: 2.5rem;

      @include below($md) {
        margin-bottom: 2rem;
      }
    }

    &_space-normal {
      margin-bottom: 3rem;

      @include below($md) {
        margin-bottom: 3rem;
      }
    }

    &_space-large {
      margin-bottom: 4rem;

      @include below($md) {
        margin-bottom: 3rem;
      }
    }

    &_space-largest {
      margin-bottom: 6rem;

      @include below($md) {
        margin-bottom: 4rem;
      }
    }

    &_promo {
      position: relative;
      margin: 0 0 2.4rem;

      @include below($lg) {
        padding-left: 7rem;
      }

      @include below($md) {
        min-height: 40rem;
      }
    }

    &_heading {
      margin: 0 0 2.6rem 0.9rem;

      @include below($lg) {
        display: flex;
        align-items: center;
        margin-left: 0;
      }

      @include below($md) {
        margin-bottom: 1rem;
      }
    }

    &_hide {
      display: none;

      &-lg {
        @include below($lg) {
          display: none;
        }
      }

      &-md {
        @include below($md) {
          display: none;
        }
      }

      &-sm {
        @include below($sm) {
          display: none;
        }
      }
    }

    &_show {
      display: block;

      &-lg {
        @include below($lg) {
          display: block;
        }
      }

      &-md {
        @include below($md) {
          display: block;
        }
      }

      &-sm {
        @include below($sm) {
          display: block;
        }
      }
    }

    &:last-child {
      margin-bottom: 0;
    }

    &-title {
      @include font-special;
      font-size: 6rem;
      line-height: 1;
      color: #a7d5d2;
      margin: 0 0 3rem;

      @include below($sm) {
        font-size: 3.6rem;
      }

      a {
        text-decoration: none;
        color: inherit;
        transition: color $animation-speed;

        &:hover {
          color: $highlight-color;
        }
      }

      @include below($md) {
        margin-bottom: 2rem;
      }

      &_center {
        text-align: center;
      }

      &_right {
        text-align: right;
      }
    }
  }

  &__prods {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    padding: 2.9rem 0 0 0;
    z-index: 2;

    @include below($xxl) {
      padding: 0 0 0 8rem;
    }

    &:not(.always-show) {
      @include below($lg) {
        display: none;
      }
    }

    &.always-show {
      @include below($lg) {
        padding-left: 10rem;
      }

      @include below($md) {
        padding-left: 7.2rem;
      }
    }

    &-layout {
      width: 89.4rem;
      max-width: 100%;
      margin: 0 auto;
    }

    &-close {
      display: inline-block;
      vertical-align: top;
      position: relative;
      margin: 2rem 0 0 8rem;
      padding-left: 3rem;
      @include font-alt-bold;

      font-size: 2.4rem;
      line-height: 2.8rem;
      color: $highlight-color;
      text-decoration: none;
      filter: drop-shadow(1px 1px 1px rgba(#000, 0.15));

      @include below($lg) {
        margin-left: 0;
      }

      &::before {
        content: '';
        display: block;
        position: absolute;
        left: 0;
        top: 0.6rem;
        z-index: -1;
        height: 1.6rem;
        width: 1.6rem;
        background: url("data:image/svg+xml,%3Csvg width='13' height='20' viewBox='0 0 13 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 17.5L2.5 9.91307L10.5 2.5' stroke='%23fe6c53' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A") no-repeat center / contain;
        transition: transform $animation-speed, opacity $animation-speed;

        .no-touchevents & {
          opacity: 0;
          transform: translate3d(1.5rem, 0, 0);
        }
      }

      &:hover {
        &::before {
          .no-touchevents & {
            transform: translate3d(0, 0, 0);
            opacity: 1;
          }
        }
      }
    }
  }

  &__canvas {
    position: absolute;
    left: 0;
    //top: -0.9rem;
    top: 9.9rem;
    right: 0;
    //bottom: -2rem;
    bottom: 8rem;
    z-index: -2;
    background-position: 50% 0, 50% 40%;
    background-image: url(../images/bg-content.png), url(../images/bg-content.png);
    background-size: 100%;
    border-radius: 5% / 50%;

    @include below($lg) {
      top: 0;
      bottom: 0;
      background: #fff;
      border-radius: 3rem;
    }

    @at-root {
      // If aside has added
      #{$base}__aside ~ & {
        left: 16.1rem;

        @include below($lg) {
          left: -#{$layout-page-space_lg - 0.5};
        }

        @include below($md) {
          left: -#{$layout-page-space_sm - 0.5};
        }
      }

      // If share has added
      #{$base}__aside ~ & {
        right: 13.6rem;

        @include below($lg) {
          right: -#{$layout-page-space_lg - 0.5};
        }

        @include below($md) {
          right: -#{$layout-page-space_sm - 0.5};
        }
      }
    }

    &::before,
    &::after {
      content: "";
      display: block;
      position: absolute;
      left: 0;
      width: 100%;
      max-height: 50%;
      background-position: 50% 0;
      background-image: url(../images/bg-content.png);
      background-size: 100%;

      @include below($lg) {
        background: #fff;
      }
    }

    &::before {
      top: -10rem;
      height: 82.7rem;
      border-radius: 0 0 5% 5% / 0 0 50rem 50rem;

      @include below($lg) {
        height: 20rem;
        width: 20rem;
        left: -0.2rem;
        top: -1.5rem;
        border-radius: 50%;
      }
    }

    &::after {
      bottom: -10rem;
      height: 82.8rem;
      background-position: 50% 100%;
      border-radius: 5% 5% 0 0 / 50rem 50rem 0 0;

      @include below($lg) {
        height: 20rem;
        width: 20rem;
        left: auto;
        right: -0.2rem;
        bottom: -1.5rem;
        border-radius: 50%;
      }
    }

    //&::before,
    //&::after {
    //  $size: 20rem;
    //
    //  content: '';
    //  position: absolute;
    //  display: none;
    //  height: $size;
    //  width: $size;
    //  border-radius: $size;
    //  background: #fff;
    //
    //  @include below($lg) {
    //    display: block;
    //  }
    //}
    //
  }

  &__btn-more {
    position: relative;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    height: 0;
    top: 9.6rem;

    @include below($lg) {
      height: auto;
      top: auto;
      margin: 2rem 0 -2rem;
    }
  }
}
